{
    "rules": [
        {
            "id": "open-access-publication",
            "title": "Open Access Publication",
            "message": "Publication articles must be Open Access",
            "information": "The EU curation policy requires publication articles must be Open Access",
            "level": "failure",
            "condition": {
                "type": "comparison",
                "left": {
                    "type": "field",
                    "path": "metadata.resource_type.id"
                },
                "operator": "==",
                "right": "publication-article"
            },
            "checks": [
                {
                    "type": "comparison",
                    "left": {
                        "type": "field",
                        "path": "access.files"
                    },
                    "operator": "==",
                    "right": "public"
                }
            ]
        },
        {
            "id": "journal-info",
            "title": "Journal Information",
            "message": "Publication articles must state the journal it was published in",
            "information": "The EU curation policy requires publication articles must state the journal it was published in",
            "level": "failure",
            "condition": {
                "type": "comparison",
                "left": {
                    "type": "field",
                    "path": "metadata.resource_type.id"
                },
                "operator": "==",
                "right": "publication-article"
            },
            "checks": [
                {
                    "type": "comparison",
                    "left": {
                        "type": "field",
                        "path": "custom_fields.journal:journal.title"
                    },
                    "operator": "!=",
                    "right": ""
                }
            ]
        },
        {
            "id": "license",
            "title": "License",
            "message": "All records must have a license",
            "information": "The EU curation policy requires all records to have a license",
            "level": "failure",
            "checks": [
                {
                    "type": "list",
                    "operator": "exists",
                    "path": "metadata.rights",
                    "predicate": {}
                }
            ]
        },
        {
            "id": "software-license",
            "title": "Software License",
            "message": "Software must have an appropriate license",
            "information": "The EU curation policy requires software to have an appropriate license",
            "level": "warning",
            "condition": {
                "type": "logical",
                "operator": "and",
                "expressions": [
                    {
                        "type": "comparison",
                        "left": {
                            "type": "field",
                            "path": "metadata.resource_type.id"
                        },
                        "operator": "==",
                        "right": "software"
                    },
                    {
                        "type": "comparison",
                        "left": {
                            "type": "field",
                            "path": "access.files"
                        },
                        "operator": "==",
                        "right": "public"
                    }
                ]
            },
            "checks": [
                {
                    "type": "comparison",
                    "left": {
                        "type": "field",
                        "path": "metadata.license.type"
                    },
                    "operator": "==",
                    "right": "software-related-license"
                }
            ]
        },
        {
            "id": "eu-funding",
            "title": "EU Funding",
            "message": "Records must have at least one EU-funded project",
            "information": "The EU curation policy requires author to have persistent identifiers",
            "level": "info",
            "checks": [
                {
                    "type": "list",
                    "operator": "any",
                    "path": "metadata.funding",
                    "predicate": {
                        "type": "comparison",
                        "left": {
                            "type": "field",
                            "path": "funder.id"
                        },
                        "operator": "==",
                        "right": "00k4n6c32"
                    }
                }
            ]
        }
    ]
}
